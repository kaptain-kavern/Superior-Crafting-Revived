<?xml version="1.0" encoding="utf-8" ?>
<ThingDefs>

<ThingDef Name="BaseGun" Abstract="True">
    <category>Item</category>
    <thingClass>ThingWithComps</thingClass>
    <equipmentType>Primary</equipmentType>
    <pathCost>10</pathCost>
    <useHitPoints>True</useHitPoints>
    <selectable>True</selectable>
    <graphicData>
      <onGroundRandomRotateAngle>35</onGroundRandomRotateAngle>
    </graphicData>
    <drawGUIOverlay>true</drawGUIOverlay>
    <statBases>
      <MaxHitPoints>100</MaxHitPoints>
      <Flammability>1.0</Flammability>
      <DeteriorationRate>2</DeteriorationRate>
      <SellPriceFactor>0.5</SellPriceFactor>
    </statBases>
    <altitudeLayer>Item</altitudeLayer>
    <alwaysHaulable>True</alwaysHaulable>
    <tickerType>Never</tickerType>
    <techLevel>Industrial</techLevel>
    <thingCategories>
      <li>WeaponsRanged</li>
    </thingCategories>
    <inspectorTabs>
      <li>ITab_Art</li>
    </inspectorTabs>
    <comps>
      <li Class="CompProperties_Forbiddable"/>
      <li>
        <compClass>CompEquippable</compClass>
      </li>
      <li>
        <compClass>CompQuality</compClass>
      </li>
      <li Class="CompProperties_Art">
        <nameMaker>ArtName_WeaponGun</nameMaker>
        <descriptionMaker>ArtDescription_WeaponGun</descriptionMaker>
        <minQualityForArtistic>Excellent</minQualityForArtistic>
      </li>
    </comps>
</ThingDef>

<ThingDef Name="BaseMakeableGun" ParentName="BaseGun" Abstract="True">
    <recipeMaker>
      <workSpeedStat>SmithingSpeed</workSpeedStat>
      <workSkill>Crafting</workSkill>
      <effectWorking>Smith</effectWorking>
      <soundWorking>Recipe_Smith</soundWorking>
      <recipeUsers>
        <li>TableMachining</li>
      </recipeUsers>
      <unfinishedThingDef>UnfinishedGun</unfinishedThingDef>
    </recipeMaker>
</ThingDef>

<ThingDef Name="BaseHumanGun" ParentName="BaseGun" Abstract="True">
    <weaponTags>
      <li>Gun</li>
    </weaponTags>
</ThingDef>
  
<ThingDef Name="BaseHumanMakeableGun" ParentName="BaseMakeableGun" Abstract="True">
    <weaponTags>
      <li>Gun</li>
    </weaponTags>
</ThingDef>

<ThingDef Name="BaseBullet" Abstract="True">
    <category>Projectile</category>
    <tickerType>Normal</tickerType>
    <altitudeLayer>Projectile</altitudeLayer>
    <thingClass>Bullet</thingClass>
    <label>bullet</label>
    <useHitPoints>False</useHitPoints>
    <neverMultiSelect>True</neverMultiSelect>
    <graphicData>
      <shaderType>Transparent</shaderType>
    </graphicData>
</ThingDef>
	
	
	<!-- <ThingDef ParentName="BaseBullet">
		<defName>TrainingBullet</defName>
		<label>Training bullet</label>
		<graphicData>
			<texPath>Things/Projectile/Bullet_Small</texPath>
			<graphicClass>Graphic_Single</graphicClass>
		</graphicData>
		<thingClass>Bullet</thingClass>
		<projectile>
			<flyOverhead>false</flyOverhead>
			<damageDef>Bullet</damageDef>
			<DamageAmountBase>0</DamageAmountBase>
			<Speed>55</Speed>
		</projectile>
	</ThingDef> -->
		
 	<!--=============== Pistol ====================-->

<ThingDef ParentName="BaseHumanMakeableGun">
	    <defName>Gun_Pistol</defName>
	    <label>pistol</label>
	    <description>Ancient pattern automatic pistol. Weak and short range, but quick.  Dmg:9 / Rng:24</description>
	    <graphicData>
	      <texPath>Things/Item/Equipment/WeaponRanged/Pistol</texPath>
	      <graphicClass>Graphic_Single</graphicClass>
	    </graphicData>
	    <soundInteract>InteractPistol</soundInteract>
	    <statBases>
	      <WorkToMake>32000</WorkToMake>
	      <MarketValue>200</MarketValue>
	      <AccuracyTouch>0.91</AccuracyTouch>
	      <AccuracyShort>0.71</AccuracyShort>
	      <AccuracyMedium>0.50</AccuracyMedium>
	      <AccuracyLong>0.32</AccuracyLong>
	      <RangedWeapon_Cooldown>0.66</RangedWeapon_Cooldown>
	    </statBases>
	    <recipeMaker>
			<skillRequirements>
				<li>
					<skill>Crafting</skill>
					<minLevel>6</minLevel>
				</li>
			</skillRequirements>
		</recipeMaker>
	    <costList>
	      <SteelBar>30</SteelBar>
	      <Component>2</Component>
	    </costList>
	    <verbs>
	      <li>
	        <verbClass>Verb_Shoot</verbClass>
	        <hasStandardCommand>true</hasStandardCommand>
	        <projectileDef>Bullet_Pistol</projectileDef>
	        <warmupTicks>54</warmupTicks>
	        <range>24</range>
	        <soundCast>ShotPistol</soundCast>
	        <soundCastTail>GunTail_Light</soundCastTail>
	        <muzzleFlashScale>9</muzzleFlashScale>
	      </li>
	    </verbs>
</ThingDef>

 	<!--=============== Pump Shotgun ====================-->

<ThingDef ParentName="BaseHumanMakeableGun">
    <defName>Gun_PumpShotgun</defName>
    <label>pump shotgun</label>
    <description>Ancient design. Deadly, but short range.  Dmg:20 / Rng:16</description>
    <graphicData>
      <texPath>Things/Item/Equipment/WeaponRanged/Shotgun</texPath>
      <graphicClass>Graphic_Single</graphicClass>
    </graphicData>
    <soundInteract>InteractShotgun</soundInteract>
    <statBases>
      <WorkToMake>50000</WorkToMake>
      <MarketValue>400</MarketValue>
      <AccuracyTouch>0.80</AccuracyTouch>
      <AccuracyShort>0.87</AccuracyShort>
      <AccuracyMedium>0.77</AccuracyMedium>
      <AccuracyLong>0.64</AccuracyLong>
      <RangedWeapon_Cooldown>0.66</RangedWeapon_Cooldown>
    </statBases>
    <recipeMaker>
    	<skillRequirements>
    		<li>
    			<skill>Crafting</skill>
    			<minLevel>6</minLevel>
    		</li>
    	</skillRequirements>
    </recipeMaker>    
    <costList>
    	<WoodPlank>30</WoodPlank>
    	<SteelBar>60</SteelBar>
    	<Component>2</Component>
    </costList>
    <verbs>
      <li>
        <verbClass>Verb_Shoot</verbClass>
        <hasStandardCommand>true</hasStandardCommand>
        <projectileDef>Bullet_PumpShotgun</projectileDef>
        <warmupTicks>90</warmupTicks>
        <range>16</range>
        <soundCast>ShotShotgun</soundCast>
        <soundCastTail>GunTail_Heavy</soundCastTail>
        <muzzleFlashScale>9</muzzleFlashScale>
      </li>
    </verbs>
</ThingDef>

 	<!--=============== Survival Rifle ====================-->

<ThingDef ParentName="BaseHumanMakeableGun">
    <defName>Gun_SurvivalRifle</defName>
    <label>survival rifle</label>
    <description>Ancient bolt-action rifle. Good range, Good power, low rate of fire.  Dmg:18 / Rng:37</description>
    <graphicData>
      <texPath>Things/Item/Equipment/WeaponRanged/SurvivalRifle</texPath>
      <graphicClass>Graphic_Single</graphicClass>
    </graphicData>
    <soundInteract>InteractRifle</soundInteract>
    <statBases>
      <WorkToMake>50000</WorkToMake>
      <MarketValue>400</MarketValue>
      <AccuracyTouch>0.75</AccuracyTouch>
      <AccuracyShort>0.96</AccuracyShort>
      <AccuracyMedium>0.96</AccuracyMedium>
      <AccuracyLong>0.90</AccuracyLong>
      <RangedWeapon_Cooldown>0.66</RangedWeapon_Cooldown>
    </statBases>
    <recipeMaker>
    	<skillRequirements>
    		<li>
    			<skill>Crafting</skill>
    			<minLevel>6</minLevel>
    		</li>
    	</skillRequirements>
    </recipeMaker>    
    <costList>
    	<WoodPlank>30</WoodPlank>
    	<SteelBar>60</SteelBar>
    	<Component>2</Component>
    </costList>
    <verbs>
      <li>
        <verbClass>Verb_Shoot</verbClass>
        <hasStandardCommand>true</hasStandardCommand>
        <projectileDef>Bullet_SurvivalRifle</projectileDef>
        <warmupTicks>150</warmupTicks>
        <range>37</range>
        <soundCast>ShotSurvivalRifle</soundCast>
        <soundCastTail>GunTail_Heavy</soundCastTail>
        <muzzleFlashScale>9</muzzleFlashScale>
      </li>
    </verbs>
</ThingDef>

 	<!--=============== Assault Rifle ====================-->

<ThingDef ParentName="BaseHumanMakeableGun">
    <defName>Gun_AssaultRifle</defName>
    <label>assault rifle</label>
    <description>A general-purpose military weapon for field or urban combat. It fires a three-round burst. Good range, low power, high rate of fire.  Dmg:7 / Rng:31 / Burst:3</description>
    <graphicData>
      <texPath>Things/Item/Equipment/WeaponRanged/AssaultRifle</texPath>
      <graphicClass>Graphic_Single</graphicClass>
    </graphicData>
    <soundInteract>InteractRifle</soundInteract>
    <statBases>
      <WorkToMake>120000</WorkToMake>
      <MarketValue>650</MarketValue>
      <AccuracyTouch>0.70</AccuracyTouch>
      <AccuracyShort>0.87</AccuracyShort>
      <AccuracyMedium>0.77</AccuracyMedium>
      <AccuracyLong>0.64</AccuracyLong>
      <RangedWeapon_Cooldown>0.69</RangedWeapon_Cooldown>
    </statBases>
    <recipeMaker>
    	<skillRequirements>
    		<li>
    			<skill>Crafting</skill>
    			<minLevel>8</minLevel>
    		</li>
    	</skillRequirements>
    </recipeMaker>
    <costList>
      <SteelBar>60</SteelBar>
      <PlasteelBar>10</PlasteelBar>
      <WoodPlank>10</WoodPlank>
      <Component>3</Component>
    </costList>
    <verbs>
      <li>
        <verbClass>Verb_Shoot</verbClass>
        <hasStandardCommand>true</hasStandardCommand>
        <projectileDef>Bullet_AssaultRifle</projectileDef>
        <warmupTicks>90</warmupTicks>
        <range>31</range>
        <burstShotCount>3</burstShotCount>
        <ticksBetweenBurstShots>7</ticksBetweenBurstShots>
        <soundCast>ShotAssaultRifle</soundCast>
        <soundCastTail>GunTail_Medium</soundCastTail>
        <muzzleFlashScale>9</muzzleFlashScale>
      </li>
    </verbs>
</ThingDef>

 	<!--=============== Sniper Rifle ====================-->

<ThingDef ParentName="BaseHumanMakeableGun">
    <defName>Gun_SniperRifle</defName>
    <label>sniper rifle</label>
    <description>Ancient pattern military sniper rifle. Bolt action. Long range, great accuracy and power.  Dmg:40 / Rng:45</description>
    <graphicData>
      <texPath>Things/Item/Equipment/WeaponRanged/SniperRifle</texPath>
      <graphicClass>Graphic_Single</graphicClass>
    </graphicData>
    <soundInteract>InteractRifle</soundInteract>
    <statBases>
      <WorkToMake>120000</WorkToMake>
      <MarketValue>850</MarketValue>
      <AccuracyTouch>0.50</AccuracyTouch>
      <AccuracyShort>0.86</AccuracyShort>
      <AccuracyMedium>0.86</AccuracyMedium>
      <AccuracyLong>0.88</AccuracyLong>
      <RangedWeapon_Cooldown>2.33</RangedWeapon_Cooldown>
    </statBases>
    <recipeMaker>
    	<skillRequirements>
    		<li>
    			<skill>Crafting</skill>
    			<minLevel>8</minLevel>
    		</li>
    	</skillRequirements>
    </recipeMaker>    
    <costList>
      <SteelBar>80</SteelBar>
      <PlasteelBar>20</PlasteelBar>
      <WoodPlank>20</WoodPlank>
      <Component>5</Component>
    </costList>
    <verbs>
      <li>
        <verbClass>Verb_Shoot</verbClass>
        <hasStandardCommand>true</hasStandardCommand>
        <projectileDef>Bullet_SniperRifle</projectileDef>
        <warmupTicks>240</warmupTicks>
        <range>45</range>
        <soundCast>ShotSniperRifle</soundCast>
        <soundCastTail>GunTail_Heavy</soundCastTail>
        <muzzleFlashScale>9</muzzleFlashScale>
      </li>
    </verbs>
    <weaponTags>
      <li>SniperRifle</li>
    </weaponTags>
</ThingDef>

 	<!--=============== Machine pistol ====================-->

<ThingDef ParentName="BaseHumanMakeableGun">
    <defName>Gun_MachinePistol</defName>
    <label>Machine pistol</label>
    <description>A micro-submachine gun. Short range, low power, high rate of fire. Very quick to aim and fire.  Dmg:5 / Rng:24 / Burst:3</description>
    <graphicData>
      <texPath>Things/Item/Equipment/WeaponRanged/MachinePistol</texPath>
      <graphicClass>Graphic_Single</graphicClass>
    </graphicData>
    <soundInteract>InteractSMG</soundInteract>
    <statBases>
      <WorkToMake>50000</WorkToMake>
      <MarketValue>550</MarketValue>
      <AccuracyTouch>0.73</AccuracyTouch>
      <AccuracyShort>0.62</AccuracyShort>
      <AccuracyMedium>0.43</AccuracyMedium>
      <AccuracyLong>0.15</AccuracyLong>
      <RangedWeapon_Cooldown>0.66</RangedWeapon_Cooldown>
    </statBases>
    <recipeMaker>
    	<skillRequirements>
    		<li>
    			<skill>Crafting</skill>
    			<minLevel>8</minLevel>
    		</li>
    	</skillRequirements>
    </recipeMaker>    
    <costList>
      <SteelBar>70</SteelBar>
      <PlasteelBar>5</PlasteelBar>
      <WoodPlank>10</WoodPlank>
      <Component>3</Component>
    </costList>
    <verbs>
      <li>
        <verbClass>Verb_Shoot</verbClass>
        <hasStandardCommand>true</hasStandardCommand>
        <projectileDef>Bullet_MachinePistol</projectileDef>
        <warmupTicks>45</warmupTicks>
        <range>24</range>
        <burstShotCount>3</burstShotCount>
        <ticksBetweenBurstShots>7</ticksBetweenBurstShots>
        <soundCast>ShotMachinePistol</soundCast>
        <soundCastTail>GunTail_Light</soundCastTail>
        <muzzleFlashScale>9</muzzleFlashScale>
      </li>
    </verbs>
</ThingDef>

 	<!--=============== Heavy SMG ====================-->

<ThingDef ParentName="BaseHumanMakeableGun">
    <defName>Gun_HeavySMG</defName>
    <label>heavy SMG</label>
    <description>A compact, wide-caliber slug-thrower. Very short range, but it packs a punch and handles quite well.  Dmg:10 / Rng:20 / Burst:3</description>
    <graphicData>
      <texPath>Things/Item/Equipment/WeaponRanged/HeavySMG</texPath>
      <graphicClass>Graphic_Single</graphicClass>
    </graphicData>
    <soundInteract>InteractSMG</soundInteract>
    <statBases>
      <WorkToMake>60000</WorkToMake>
      <MarketValue>600</MarketValue>
      <AccuracyTouch>0.89</AccuracyTouch>
      <AccuracyShort>0.64</AccuracyShort>
      <AccuracyMedium>0.37</AccuracyMedium>
      <AccuracyLong>0.22</AccuracyLong>
      <RangedWeapon_Cooldown>1.3</RangedWeapon_Cooldown>
    </statBases>
    <recipeMaker>
    	<skillRequirements>
    		<li>
    			<skill>Crafting</skill>
    			<minLevel>10</minLevel>
    		</li>
    	</skillRequirements>
    </recipeMaker>    
    <costList>
      <SteelBar>100</SteelBar>
      <PlasteelBar>10</PlasteelBar>
      <WoodPlank>20</WoodPlank>
      <Component>4</Component>
    </costList>
    <verbs>
      <li>
        <verbClass>Verb_Shoot</verbClass>
        <hasStandardCommand>true</hasStandardCommand>
        <projectileDef>Bullet_HeavySMG</projectileDef>
        <warmupTicks>80</warmupTicks>
        <range>20</range>
        <burstShotCount>3</burstShotCount>
        <ticksBetweenBurstShots>11</ticksBetweenBurstShots>
        <soundCast>ShotHeavySMG</soundCast>
        <soundCastTail>GunTail_Heavy</soundCastTail>
        <muzzleFlashScale>9</muzzleFlashScale>
      </li>
    </verbs>
</ThingDef>

	<!-- ================ T-9 incendiary launcher ================ -->

<ThingDef ParentName="BaseHumanMakeableGun">
    <defName>Gun_IncendiaryLauncher</defName>
    <label>incendiary launcher</label>
    <description>Incendiary bolt launcher. Starts fires.  Dmg:10 / Rng:24</description>
      <texPath>Things/Item/Equipment/WeaponRanged/IncendiaryLauncher</texPath>
      <graphicClass>Graphic_Single</graphicClass>
    </graphicData>
    <soundInteract>InteractRifle</soundInteract>
    <statBases>
      <WorkToMake>80000</WorkToMake>
      <MarketValue>630</MarketValue>
      <AccuracyTouch>0.79</AccuracyTouch>
      <AccuracyShort>0.42</AccuracyShort>
      <AccuracyMedium>0.18</AccuracyMedium>
      <AccuracyLong>0.06</AccuracyLong>
      <RangedWeapon_Cooldown>1.66</RangedWeapon_Cooldown>
    </statBases>
    <recipeMaker>
    	<skillRequirements>
    		<li>
    			<skill>Crafting</skill>
    			<minLevel>10</minLevel>
    		</li>
    	</skillRequirements>
    </recipeMaker>
    <costList>
      <SteelBar>70</SteelBar>
      <PlasteelBar>10</PlasteelBar>
      <Electronics>5</Electronics>
      <Component>2</Component>
    </costList>
    <verbs>
      <li>
        <verbClass>Verb_Shoot</verbClass>
        <hasStandardCommand>true</hasStandardCommand>
        <projectileDef>Bullet_IncendiaryLauncher</projectileDef>
        <ai_IsIncendiary>true</ai_IsIncendiary>
        <warmupTicks>370</warmupTicks>
        <range>24</range>
        <burstShotCount>1</burstShotCount>
        <soundCast>ShotIncendiaryLauncher</soundCast>
        <soundCastTail>GunTail_Medium</soundCastTail>
        <muzzleFlashScale>14</muzzleFlashScale>
      </li>
    </verbs>
</ThingDef>

	<!-- ===================== L-15 LMG ========================= -->

<ThingDef ParentName="BaseHumanMakeableGun">
    <defName>Gun_LMG</defName>
    <label>LMG</label>
    <description>A light machine gun.</description>
    <graphicData>
      <texPath>Things/Item/Equipment/WeaponRanged/LMG</texPath>
      <graphicClass>Graphic_Single</graphicClass>
    </graphicData>
    <soundInteract>InteractRifle</soundInteract>
    <statBases>
      <WorkToMake>90000</WorkToMake>
      <MarketValue>800</MarketValue>
      <AccuracyTouch>0.50</AccuracyTouch>
      <AccuracyShort>0.64</AccuracyShort>
      <AccuracyMedium>0.41</AccuracyMedium>
      <AccuracyLong>0.22</AccuracyLong>
      <RangedWeapon_Cooldown>1.4</RangedWeapon_Cooldown>
    </statBases>
    <recipeMaker>
    	<skillRequirements>
    		<li>
    			<skill>Crafting</skill>
    			<minLevel>10</minLevel>
    		</li>
    	</skillRequirements>
    </recipeMaker>    
    <costList>
      <SteelBar>120</SteelBar>
      <PlasteelBar>10</PlasteelBar>
      <Component>3</Component>
    </costList>
    <verbs>
      <li>
        <verbClass>Verb_Shoot</verbClass>
        <hasStandardCommand>true</hasStandardCommand>
        <projectileDef>Bullet_LMG</projectileDef>
        <warmupTicks>120</warmupTicks>
        <range>25.9</range>
        <ticksBetweenBurstShots>7</ticksBetweenBurstShots>
        <burstShotCount>6</burstShotCount>
        <soundCast>ShotMinigun</soundCast>
        <soundCastTail>GunTail_Medium</soundCastTail>
        <muzzleFlashScale>9</muzzleFlashScale>
      </li>
    </verbs>
</ThingDef>

	<!-- ===================== Charge rifle ========================= -->

<ThingDef ParentName="BaseHumanMakeableGun">
    <defName>Gun_ChargeRifle</defName>
    <label>charge rifle</label>
    <description>Charged-shot energy/projectile rifle.  Dmg:13 / Rng:24 / Burst:3</description>
    <graphicData>
      <texPath>Things/Item/Equipment/WeaponRanged/ChargeRifle</texPath>
      <graphicClass>Graphic_Single</graphicClass>
    </graphicData>
    <soundInteract>InteractChargeRifle</soundInteract>
    <statBases>
      <WorkToMake>120000</WorkToMake>
      <MarketValue>1500</MarketValue>
      <AccuracyTouch>0.80</AccuracyTouch>
      <AccuracyShort>0.83</AccuracyShort>
      <AccuracyMedium>0.68</AccuracyMedium>
      <AccuracyLong>0.53</AccuracyLong>
      <RangedWeapon_Cooldown>0.66</RangedWeapon_Cooldown>
    </statBases>
    <recipeMaker>
      <researchPrerequisite>ChargedShot</researchPrerequisite>
    </recipeMaker>
    <costList>
    	<SteelBar>70</SteelBar>
		<PlasteelBar>20</PlasteelBar>
		<Electronics>5</Electronics>
		<Uranium>5</Uranium>
		<Component>4</Component>
	</costList>
	<recipeMaker>
		<skillRequirements>
			<li>
				<skill>Crafting</skill>
				<minLevel>12</minLevel>
			</li>
		</skillRequirements>
	</recipeMaker>
    <techLevel>Spacer</techLevel>
    <weaponTags>
      <li>AdvancedGun</li>
    </weaponTags>
    <verbs>
      <li>
        <verbClass>Verb_Shoot</verbClass>
        <hasStandardCommand>true</hasStandardCommand>
        <projectileDef>Bullet_ChargeRifle</projectileDef>
        <warmupTicks>90</warmupTicks>
        <range>24</range>
        <ticksBetweenBurstShots>12</ticksBetweenBurstShots>
        <burstShotCount>3</burstShotCount>
        <soundCast>ShotChargeRifle</soundCast>
        <soundCastTail>GunTail_Medium</soundCastTail>
        <muzzleFlashScale>9</muzzleFlashScale>
      </li>
    </verbs>
</ThingDef>

</ThingDefs>